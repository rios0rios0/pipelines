parameters:
  - name: 'RUN_BEFORE_MANAGEMENT'
    type: 'string'
    default: 'echo "No before script"'
  - name: 'RUN_AFTER_MANAGEMENT'
    type: 'string'
    default: 'echo "No after script"'

steps:
  - template: '../../../abstracts/corepack-node20.18.3.yaml'

  - script: yarn && yarn sbom
    displayName: 'Generate SBOM'

  - template: '../../../../global/abstracts/scripts-repo.yaml'
  - script: $(Scripts.Directory)/global/scripts/dependency-track/run.sh
